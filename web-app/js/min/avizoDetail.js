CustomComponents.addClassProperties({avizoDetailCustom:function(c){isc.addProperties(c,{_drawLayout:function(){this._detailCanvas.minHeight=750;this._detailCanvas.addMember(this.toolBar);var a=NumberUtil.parseInt(App.get.config["crfosp.avizo.tbref"]);this._hasAsocFields=!1;for(var b in this.dataSource.fields)"agrmany"!=this.dataSource.fields[b].type&&"bref"!=this.dataSource.fields[b].type&&"manyToMany"!=this.dataSource.fields[b].type||this.dataSource.fields[b].viewRequiresRole&&!App.get.user.hasAnyRole(this.dataSource.fields[b].viewRequiresRole)||
this.dataSource.fields[b].canCreateTab&&isA.Function(this.dataSource.fields[b].canCreateTab)&&0==this.dataSource.fields[b].canCreateTab(this)||(this._hasAsocFields||(this._sectionStack||(this._sectionStack=isc.SectionStack.create({height:"100%",width:"100%",overflow:"auto",visibilityMode:"mutex"}),this._sectionStack.addSection({title:this.dataSource.title,expanded:!0,resizeable:!0,items:[this.detail]})),this._detailCanvas.addMember(this._sectionStack),this.addTab({title:this.dataSource.title,pane:this._detailCanvas,
canClose:!1})),this._hasAsocFields=!0,this.dataSource.fields[b].fieldPosition>a&&(this._asocLayout="TABSET"),this.createAsocTab(this.dataSource.fields[b]));this._myTabName=this.tabSet.getSelectedTab().name;this.delayCall("focusInside")},focusInSection:function(){var a=this._sectionStack.getSectionHeader(this._sectionStack.getExpandedSections()[0]);a&&a.items[0].isA("DynamicForm")&&a.items[0].delayCall("focusInside");a&&a.items[0].isA("SmartTabSet")&&a.items[0].getTabPane(a.items[0].getSelectedTab())&&
a.items[0].getTabPane(a.items[0].getSelectedTab()).delayCall("focusInside")},drawComponent:function(){var a=this;if(isc.Browser.isDesktop){var b=15<Object.keys(a.dataSource.fields).length?4:2;Object.keys(a.dataSource.fields)}else b=2;a._createForm(b);a.detail._ownerComp=a;a._createToolBar();a._setValuesByMode(function(){a._asocLayout="SECTION";a._drawLayout();a._sectionStack.collapseSection(a._sectionStack.getSections());a._sectionStack.expandSection(0)})},cancelReloadAsoc:function(a){this._asocGrids.remove(a)},
returnReloadAsoc:function(a){this._asocGrids.add(a)},canSaveAsoc:function(){return!this.toolBar._btnSave.isDisabled()&&this.valuesManager.valuesHaveChanged()?(isc.warn(isc.i18nMessages["avizoOsoba.changed.warn.message"]),!1):!0},_canSwitchLayout:!1});return DetailFormComponentAny.create(c)}});
